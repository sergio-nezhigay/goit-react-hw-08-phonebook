{"version":3,"file":"static/js/989.2228e74a.chunk.js","mappings":"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","sources":["components/ContactForm/ContactForm.styled.jsx","components/ContactForm/ContactForm.jsx","redux/filter/filterSelectors.js","hooks/useFilter.js","components/ContactItem/ContactItem.styled.jsx","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","Pages/ContactsPage/ContactsPage.jsx","components/Section/Section.styled.jsx","components/Section/Section.jsx"],"sourcesContent":["// import { styled } from '@mui/material';\nimport { Form } from 'formik';\nimport styled from '@emotion/styled';\n\nexport const FormContainer = styled(Form)(() => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  flexDirection: 'column',\n  width: '100%',\n  margin: '0 auto',\n}));\n\nexport const RowContainer = ({ children }) => (\n  <div\n    style={{\n      display: 'grid',\n      width: '100%',\n      gridTemplateColumns: '1fr 1fr',\n      justifyContent: 'center',\n      marginBottom: '16px',\n      gap: '8px',\n    }}\n  >\n    {children}\n  </div>\n);\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Formik, Field } from 'formik';\nimport { object, string } from 'yup';\nimport { TextField, Button, Box } from '@mui/material';\n\nimport {\n  useAddContactMutation,\n  useFetchContactsQuery,\n} from 'redux/contacts/contactsAPI';\nimport { FormContainer, RowContainer } from './ContactForm.styled';\n\nconst numberRegex =\n  /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/;\nconst nameRegex = /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/;\nconst numberMessage = `Phone number must be digits and can contain spaces, dashes, parentheses and can start with +`;\nconst nameMessage = `Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan`;\n\nconst schema = object({\n  name: string().matches(nameRegex, nameMessage).required(),\n  number: string().matches(numberRegex, numberMessage).required(),\n});\n\nconst CustomTextField = ({ name, label, placeholder }) => (\n  <Field name={name}>\n    {({ field, meta }) => (\n      <Box>\n        <TextField\n          {...field}\n          label={label}\n          fullWidth\n          placeholder={placeholder}\n          error={meta.touched && meta.error}\n          helperText={meta.touched && meta.error ? meta.error : ''}\n        />\n      </Box>\n    )}\n  </Field>\n);\n\nexport function ContactForm() {\n  const { data: contacts = [] } = useFetchContactsQuery();\n  const [addContact] = useAddContactMutation();\n\n  const dispatch = useDispatch();\n  const handleSubmit = (values, { resetForm }) => {\n    const { name, number } = values;\n    if (\n      contacts.some(contact =>\n        contact.name.toLowerCase().includes(name.toLowerCase())\n      )\n    ) {\n      alert(`${name} is already in contacts.`);\n      return;\n    }\n    dispatch(addContact({ name, number }));\n    resetForm();\n  };\n\n  return (\n    <Formik\n      initialValues={{ name: '', number: '' }}\n      validationSchema={schema}\n      onSubmit={handleSubmit}\n    >\n      <FormContainer>\n        <RowContainer>\n          <CustomTextField\n            name=\"name\"\n            label=\"Name\"\n            placeholder=\"Enter the name\"\n          />\n          <CustomTextField\n            name=\"number\"\n            label=\"Number\"\n            placeholder=\"Enter the number\"\n          />\n        </RowContainer>\n        <Button variant=\"contained\" type=\"submit\">\n          Add Contact\n        </Button>\n      </FormContainer>\n    </Formik>\n  );\n}\n","export const selectFilter = state => state.filter;\n","import { useSelector } from 'react-redux';\nimport { selectFilter } from 'redux/filter/filterSelectors';\n\nexport const useFilter = () => {\n  const filter = useSelector(selectFilter);\n\n  return {\n    filter,\n  };\n};\n","import styled from '@emotion/styled';\nimport { Box, Button } from '@mui/material';\n\nexport const StyledBox = styled(Box)`\n  gap: 8px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const StyledButton = styled(Button)`\n  margin-left: auto;\n  min-width: 7rem;\n`;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  useDeleteContactMutation,\n  useUpdateContactMutation,\n} from 'redux/contacts/contactsAPI';\n\nimport { TextField, Button, Typography } from '@mui/material';\n\nimport { StyledBox, StyledButton } from './ContactItem.styled';\n\nexport function ContactItem({ id, number, name }) {\n  const dispatch = useDispatch();\n  const [isEditMode, setEditing] = useState(false);\n  const [editedName, setEditedName] = useState(name);\n  const [editedNumber, setEditedNumber] = useState(number);\n  const [deleteContact] = useDeleteContactMutation();\n  const [updateContact] = useUpdateContactMutation();\n  const onDelete = () => {\n    dispatch(deleteContact(id));\n  };\n\n  const handleUpdate = async () => {\n    const updatedContact = {\n      id,\n      name: editedName,\n      number: editedNumber,\n    };\n    try {\n      await updateContact(updatedContact).unwrap();\n      setEditing(false);\n    } catch (err) {\n      console.error('Failed to save the post: ', err);\n    }\n  };\n\n  return (\n    <li>\n      {isEditMode ? (\n        <>\n          <StyledBox>\n            <TextField\n              type=\"text\"\n              focused\n              value={editedName}\n              variant=\"standard\"\n              onChange={e => setEditedName(e.target.value)}\n            />\n            <TextField\n              type=\"text\"\n              focused\n              value={editedNumber}\n              variant=\"standard\"\n              onChange={e => setEditedNumber(e.target.value)}\n            />\n            <StyledButton\n              onClick={handleUpdate}\n              variant=\"contained\"\n              color=\"success\"\n            >\n              Update\n            </StyledButton>\n            <Button\n              sx={{\n                minWidth: '7rem',\n              }}\n              onClick={() => setEditing(false)}\n              variant=\"contained\"\n              color=\"error\"\n            >\n              Cancel\n            </Button>\n          </StyledBox>\n        </>\n      ) : (\n        <StyledBox>\n          <Typography\n            sx={{\n              fontWeight: 'bold',\n            }}\n          >\n            {`${name}: `}\n          </Typography>\n          <Typography>{number}</Typography>\n          <StyledButton onClick={() => setEditing(true)} variant=\"contained\">\n            Edit\n          </StyledButton>\n          <Button\n            sx={{\n              minWidth: '7rem',\n            }}\n            onClick={onDelete}\n            variant=\"contained\"\n          >\n            Delete\n          </Button>\n        </StyledBox>\n      )}\n    </li>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding-left: 0;\n  gap: 12px;\n`;\n","import React from 'react';\nimport { useFetchContactsQuery } from 'redux/contacts/contactsAPI';\n\nimport { useFilter } from 'hooks/useFilter';\nimport { ContactItem } from 'components/ContactItem/ContactItem';\nimport { List } from './ContactList.styled';\n\nconst ContactList = () => {\n  const { data: contacts = [] } = useFetchContactsQuery();\n  const { filter } = useFilter();\n  const filteredContacts = React.useMemo(\n    () =>\n      contacts.filter(({ name }) =>\n        name.toLowerCase().includes(filter.toLowerCase())\n      ),\n    [contacts, filter]\n  );\n\n  return (\n    <List>\n      {filteredContacts.map(({ id, number, name }) => (\n        <ContactItem key={id} id={id} number={number} name={name} />\n      ))}\n    </List>\n  );\n};\n\nexport default ContactList;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { TextField } from '@mui/material';\n\nimport { setFilter } from 'redux/filter/filterSlice';\nimport { useFilter } from 'hooks/useFilter';\n\nexport function Filter() {\n  const { filter } = useFilter();\n\n  const dispatch = useDispatch();\n\n  const onChange = e => {\n    dispatch(setFilter(e.target.value));\n  };\n\n  return (\n    <TextField\n      type=\"text\"\n      label=\"Find contacts by name\"\n      name=\"filter\"\n      placeholder=\"Enter your search\"\n      value={filter}\n      onChange={onChange}\n    />\n  );\n}\n","import { Helmet } from 'react-helmet';\nimport { Section } from 'components/Section/Section';\n\nimport { useFetchContactsQuery } from 'redux/contacts/contactsAPI';\n\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport ContactList from 'components/ContactList/ContactList';\nimport { Filter } from 'components/Filter/Filter';\n\nexport default function ContactsPage() {\n  const { isLoading } = useFetchContactsQuery();\n\n  return (\n    <>\n      <Helmet>\n        <title>Your contacts</title>\n      </Helmet>\n      <div>{isLoading && 'Request in progress...'}</div>\n      <Section title=\"Phonebook\">\n        <ContactForm />\n      </Section>\n\n      <Section title=\"Contacts\">\n        <Filter />\n        <ContactList />\n      </Section>\n    </>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const Legend = styled.legend`\n  font-size: 1.3rem;\n  font-weight: bold;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport { Legend } from './Section.styled';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <Box sx={{ padding: 3 }} component=\"fieldset\">\n      <Legend>{title}</Legend>\n      {children}\n    </Box>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n"],"names":["FormContainer","styled","Form","display","alignItems","justifyContent","flexDirection","width","margin","RowContainer","children","style","gridTemplateColumns","marginBottom","gap","schema","object","name","string","matches","required","number","CustomTextField","label","placeholder","field","meta","Box","TextField","fullWidth","error","touched","helperText","ContactForm","useFetchContactsQuery","data","contacts","useAddContactMutation","addContact","dispatch","useDispatch","initialValues","validationSchema","onSubmit","values","resetForm","some","contact","toLowerCase","includes","alert","Button","variant","type","selectFilter","state","filter","useFilter","useSelector","StyledBox","StyledButton","ContactItem","id","useState","isEditMode","setEditing","editedName","setEditedName","editedNumber","setEditedNumber","useDeleteContactMutation","deleteContact","useUpdateContactMutation","updateContact","handleUpdate","updatedContact","unwrap","console","focused","value","onChange","e","target","onClick","color","sx","minWidth","Typography","fontWeight","List","filteredContacts","React","map","Filter","setFilter","ContactsPage","isLoading","Helmet","Section","title","Legend","padding","component"],"sourceRoot":""}
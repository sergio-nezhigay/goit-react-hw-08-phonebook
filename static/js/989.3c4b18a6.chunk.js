"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[989],{989:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(4270),a=r(4814),i=r(9187),c=r(9439),s=r(1413),l=r(2791),o=r(5048),u=r(5705),d=r(6727),h=r(4554),m=r(4190),f=r(4281),x=r(6088),p=r(3329),v=(0,x.Z)(u.l0)((function(){return{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",margin:"0 auto"}})),j=function(e){var n=e.children;return(0,p.jsx)("div",{style:{display:"grid",width:"100%",gridTemplateColumns:"1fr 1fr",justifyContent:"center",marginBottom:"16px",gap:"8px"},children:n})},Z=(0,d.Ry)({name:(0,d.Z_)().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:(0,d.Z_)().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),b=function(e){var n=e.name,r=e.label,t=e.placeholder;return(0,p.jsx)(u.gN,{name:n,children:function(e){var n=e.field,a=e.meta;return(0,p.jsx)(h.Z,{children:(0,p.jsx)(m.Z,(0,s.Z)((0,s.Z)({},n),{},{label:r,fullWidth:!0,placeholder:t,error:a.touched&&a.error,helperText:a.touched&&a.error?a.error:""}))})}})};function g(){var e=(0,i.Tn)(),n=(0,c.Z)(e,1)[0],r=(0,o.I0)();return(0,p.jsx)(u.J9,{initialValues:{name:"",number:""},validationSchema:Z,onSubmit:function(e,t){var a=t.resetForm,i=e.name,c=e.number;r(n({name:i,number:c})),a()},children:(0,p.jsxs)(v,{children:[(0,p.jsxs)(j,{children:[(0,p.jsx)(b,{name:"name",label:"Name",placeholder:"Enter the name"}),(0,p.jsx)(b,{name:"number",label:"Number",placeholder:"Enter the number"})]}),(0,p.jsx)(f.Z,{variant:"contained",type:"submit",children:"Add Contact"})]})})}var C,y,w,k=function(e){return e.filter},A=function(){return{filter:(0,o.v9)(k)}},F=r(5861),_=r(4687),z=r.n(_),N=r(890),S=r(168),q=(0,x.Z)(h.Z)(C||(C=(0,S.Z)(["\n  gap: 8px;\n  display: flex;\n  align-items: center;\n"]))),E=(0,x.Z)(f.Z)(y||(y=(0,S.Z)(["\n  margin-left: auto;\n  min-width: 7rem;\n"])));function I(e){var n=e.id,r=e.number,t=e.name,a=(0,o.I0)(),s=(0,l.useState)(!1),u=(0,c.Z)(s,2),d=u[0],h=u[1],x=(0,l.useState)(t),v=(0,c.Z)(x,2),j=v[0],Z=v[1],b=(0,l.useState)(r),g=(0,c.Z)(b,2),C=g[0],y=g[1],w=(0,i.Nt)(),k=(0,c.Z)(w,1)[0],A=(0,i.wv)(),_=(0,c.Z)(A,1)[0],S=function(){var e=(0,F.Z)(z().mark((function e(){var r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:n,name:j,number:C},e.prev=1,e.next=4,_(r).unwrap();case 4:h(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Failed to save the post: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)("li",{children:d?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(q,{children:[(0,p.jsx)(m.Z,{type:"text",focused:!0,value:j,variant:"standard",onChange:function(e){return Z(e.target.value)}}),(0,p.jsx)(m.Z,{type:"text",focused:!0,value:C,variant:"standard",onChange:function(e){return y(e.target.value)}}),(0,p.jsx)(E,{onClick:S,variant:"contained",color:"success",children:"Update"}),(0,p.jsx)(f.Z,{sx:{minWidth:"7rem"},onClick:function(){return h(!1)},variant:"contained",color:"error",children:"Cancel"})]})}):(0,p.jsxs)(q,{children:[(0,p.jsx)(N.Z,{sx:{fontWeight:"bold"},children:"".concat(t,": ")}),(0,p.jsx)(N.Z,{children:r}),(0,p.jsx)(E,{onClick:function(){return h(!0)},variant:"contained",children:"Edit"}),(0,p.jsx)(f.Z,{sx:{minWidth:"7rem"},onClick:function(){a(k(n))},variant:"contained",children:"Delete"})]})})}var J=x.Z.ul(w||(w=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding-left: 0;\n  gap: 12px;\n"]))),T=function(){var e=(0,i.Jx)().data,n=void 0===e?[]:e,r=A().filter,t=l.useMemo((function(){return n.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}))}),[n,r]);return(0,p.jsx)(J,{children:t.map((function(e){var n=e.id,r=e.number,t=e.name;return(0,p.jsx)(I,{id:n,number:r,name:t},n)}))})},W=r(1634);function $(){var e=A().filter,n=(0,o.I0)();return(0,p.jsx)(m.Z,{type:"text",label:"Find contacts by name",name:"filter",placeholder:"Enter your search",value:e,onChange:function(e){n((0,W.T)(e.target.value))}})}function L(){var e=(0,i.Jx)().isLoading;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(t.q,{children:(0,p.jsx)("title",{children:"Your contacts"})}),(0,p.jsx)("div",{children:e&&"Request in progress..."}),(0,p.jsx)(a.$,{title:"Phonebook",children:(0,p.jsx)(g,{})}),(0,p.jsxs)(a.$,{title:"Contacts",children:[(0,p.jsx)($,{}),(0,p.jsx)(T,{})]})]})}},4814:function(e,n,r){r.d(n,{$:function(){return l}});r(2791);var t,a=r(4554),i=r(168),c=r(6088).Z.legend(t||(t=(0,i.Z)(["\n  font-size: 1.3rem;\n  font-weight: bold;\n"]))),s=r(3329),l=function(e){var n=e.title,r=e.children;return(0,s.jsxs)(a.Z,{sx:{padding:3},component:"fieldset",children:[(0,s.jsx)(c,{children:n}),r]})}}}]);
//# sourceMappingURL=989.3c4b18a6.chunk.js.map
{"version":3,"file":"static/js/989.19c6e20c.chunk.js","mappings":"iWAIaA,GAAgBC,EAAAA,EAAAA,GAAOC,EAAAA,GAAPD,EAAa,iBAAO,CAC/CE,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,cAAe,SACfC,MAAO,OACPC,OAAQ,SANgC,IAS7BC,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAC1B,gBACEC,MAAO,CACLR,QAAS,OACTI,MAAO,OACPK,oBAAqB,UACrBP,eAAgB,SAChBQ,aAAc,OACdC,IAAK,OAPT,SAUGJ,GAXuB,EAefK,EAAiBd,EAAAA,EAAAA,GAAH,mFCPrBe,GAASC,EAAAA,EAAAA,IAAO,CACpBC,MAAMC,EAAAA,EAAAA,MAASC,QALC,yHAED,0IAGgCC,WAC/CC,OAAOH,EAAAA,EAAAA,MAASC,QAPhB,6EAEiB,gGAKmCC,aAGhDE,EAAkB,SAAC,GAAD,IAAGL,EAAH,EAAGA,KAAMM,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,YAAhB,OACtB,SAAC,KAAD,CAAOP,KAAMA,EAAb,SACG,gBAAGQ,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACC,SAACC,EAAA,EAAD,WACE,SAACC,EAAA,GAAD,kBACMH,GADN,IAEEF,MAAOA,EACPM,WAAS,EACTL,YAAaA,EACbM,MAAOJ,EAAKK,SAAWL,EAAKI,MAC5BE,WAAYN,EAAKK,SAAWL,EAAKI,MAAQJ,EAAKI,MAAQ,OAR3D,GAFmB,EAiBjB,SAASG,IACd,OAAgCC,EAAAA,EAAAA,MAAxBC,KAAMC,OAAd,MAAyB,GAAzB,EACA,GAAqBC,EAAAA,EAAAA,MAAdC,GAAP,eACA,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAY,mCAAG,WAAOC,EAAP,iFAAiBC,EAAjB,EAAiBA,UAC5B3B,EAAgB0B,EAAhB1B,KAAMI,EAAUsB,EAAVtB,OAEZe,EAASS,MAAK,SAAAC,GAAO,OACnBA,EAAQ7B,KAAK8B,cAAcC,SAAS/B,EAAK8B,cADtB,IAHJ,uBAOjBN,EAAgB,GAAD,OACVxB,EADU,iEAPE,0CAajBwB,EAAgB,IAbC,SAcXH,EAAW,CAAErB,KAAAA,EAAMI,MAAAA,IAAS4B,SAdjB,OAejBL,IAfiB,kDAiBjBM,QAAQpB,MAAM,4BAAd,MAjBiB,0DAAH,wDAqBlB,OACE,SAAC,KAAD,CACEqB,cAAe,CAAElC,KAAM,GAAII,MAAO,IAClC+B,iBAAkBrC,EAClBsC,SAAUX,EAHZ,UAKE,UAAC3C,EAAD,YACE,UAACS,EAAD,YACE,SAACc,EAAD,CACEL,KAAK,OACLM,MAAM,OACNC,YAAY,oBAEd,SAACF,EAAD,CACEL,KAAK,QACLM,MAAM,eACNC,YAAY,uBAGfgB,IAAgB,SAAC1B,EAAD,UAAiB0B,KAClC,SAACc,EAAA,EAAD,CAAQC,QAAQ,YAAYC,KAAK,SAAjC,SAA0C,oBAMjD,C,oBC/FYC,EAAe,SAAAC,GAAK,OAAIA,EAAMC,MAAV,ECGpBC,EAAY,WAGvB,MAAO,CACLD,QAHaE,EAAAA,EAAAA,IAAYJ,GAK5B,E,SCNYK,GAAY9D,EAAAA,EAAAA,GAAO2B,EAAAA,EAAP3B,CAAH,+EAMT+D,GAAe/D,EAAAA,EAAAA,GAAOsD,EAAAA,EAAPtD,CAAH,kECGlB,SAASgE,EAAT,GAA2C,IAApBC,EAAmB,EAAnBA,GAAI5C,EAAe,EAAfA,MAAOJ,EAAQ,EAARA,KACjCiD,GAAWC,EAAAA,EAAAA,MACjB,GAAiC5B,EAAAA,EAAAA,WAAS,GAA1C,eAAO6B,EAAP,KAAmBC,EAAnB,KACA,GAAoC9B,EAAAA,EAAAA,UAAStB,GAA7C,eAAOqD,EAAP,KAAmBC,EAAnB,KACA,GAAwChC,EAAAA,EAAAA,UAASlB,GAAjD,eAAOmD,EAAP,KAAqBC,EAArB,KACA,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eACA,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eAKMC,EAAY,mCAAG,2FACbC,EAAiB,CACrBd,GAAAA,EACAhD,KAAMqD,EACNjD,MAAOmD,GAJU,kBAOXK,EAAcE,GAAgB9B,SAPnB,OAQjBoB,GAAW,GARM,gDAUjBnB,QAAQpB,MAAM,4BAAd,MAViB,yDAAH,qDAclB,OACE,wBACGsC,GACC,+BACE,UAACN,EAAD,YACE,SAAClC,EAAA,EAAD,CACE4B,KAAK,OACLwB,SAAO,EACPC,MAAOX,EACPf,QAAQ,WACR2B,SAAU,SAAAC,GAAC,OAAIZ,EAAcY,EAAEC,OAAOH,MAA3B,KAEb,SAACrD,EAAA,EAAD,CACE4B,KAAK,OACLwB,SAAO,EACPC,MAAOT,EACPjB,QAAQ,WACR2B,SAAU,SAAAC,GAAC,OAAIV,EAAgBU,EAAEC,OAAOH,MAA7B,KAEb,SAAClB,EAAD,CACEsB,QAASP,EACTvB,QAAQ,YACR+B,MAAM,UAHR,SAIC,YAGD,SAAChC,EAAA,EAAD,CACEiC,GAAI,CACFC,SAAU,QAEZH,QAAS,kBAAMhB,GAAW,EAAjB,EACTd,QAAQ,YACR+B,MAAM,QANR,SAOC,iBAML,UAACxB,EAAD,YACE,SAAC2B,EAAA,EAAD,CACEF,GAAI,CACFG,WAAY,QAFhB,mBAKMzE,EALN,SAOA,SAACwE,EAAA,EAAD,UAAapE,KACb,SAAC0C,EAAD,CAAcsB,QAAS,kBAAMhB,GAAW,EAAjB,EAAwBd,QAAQ,YAAvD,SAAmE,UAGnE,SAACD,EAAA,EAAD,CACEiC,GAAI,CACFC,SAAU,QAEZH,QAzEO,WACfnB,EAASS,EAAcV,GACxB,EAwESV,QAAQ,YALV,SAMC,eAOV,CCnGM,IAAMoC,EAAO3F,EAAAA,EAAAA,GAAH,4HCyBjB,EApBoB,WAClB,OAAgCkC,EAAAA,EAAAA,MAAxBC,KAAMC,OAAd,MAAyB,GAAzB,EACQuB,EAAWC,IAAXD,OACFiC,EAAmBC,EAAAA,SACvB,kBACEzD,EAASuB,QAAO,qBAAG1C,KACZ8B,cAAcC,SAASW,EAAOZ,cADrB,GADlB,GAIA,CAACX,EAAUuB,IAGb,OACE,SAACgC,EAAD,UACGC,EAAiBE,KAAI,gBAAQ7B,EAAR,EAAG8B,IAAS1E,EAAZ,EAAYA,MAAOJ,EAAnB,EAAmBA,KAAnB,OACpB,SAAC+C,EAAD,CAAsBC,GAAIA,EAAI5C,MAAOA,EAAOJ,KAAMA,GAAhCgD,EADE,KAK3B,E,UClBM,SAAS+B,IACd,IAAQrC,EAAWC,IAAXD,OAEFO,GAAWC,EAAAA,EAAAA,MAMjB,OACE,SAACvC,EAAA,EAAD,CACE4B,KAAK,OACLjC,MAAM,wBACNN,KAAK,SACLO,YAAY,oBACZyD,MAAOtB,EACPuB,SAXa,SAAAC,GACfjB,GAAS+B,EAAAA,EAAAA,GAAUd,EAAEC,OAAOH,OAC7B,GAYF,CCjBc,SAASiB,IACtB,IAAQC,GAAcjE,EAAAA,EAAAA,MAAdiE,UAER,OACE,iCACE,SAACC,EAAA,EAAD,WACE,2BAAO,qBAET,yBAAMD,GAAa,4BACnB,SAACE,EAAA,EAAD,CAASC,MAAM,YAAf,UACE,SAACrE,EAAD,OAGF,UAACoE,EAAA,EAAD,CAASC,MAAM,WAAf,WACE,SAACN,EAAD,KACA,SAAC,EAAD,SAIP,C,wFC1BYO,E,QAASvG,EAAAA,OAAH,oE,UCGNqG,EAAU,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAO7F,EAAe,EAAfA,SAC/B,OACE,UAACkB,EAAA,EAAD,CAAK4D,GAAI,CAAEiB,QAAS,GAAKC,UAAU,WAAnC,WACE,SAACF,EAAD,UAASD,IACR7F,IAGN,C","sources":["components/ContactForm/ContactForm.styled.jsx","components/ContactForm/ContactForm.jsx","redux/filter/filterSelectors.js","hooks/useFilter.js","components/ContactItem/ContactItem.styled.jsx","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","Pages/ContactsPage/ContactsPage.jsx","components/Section/Section.styled.jsx","components/Section/Section.jsx"],"sourcesContent":["// import { styled } from '@mui/material';\nimport { Form } from 'formik';\nimport styled from '@emotion/styled';\n\nexport const FormContainer = styled(Form)(() => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  flexDirection: 'column',\n  width: '100%',\n  margin: '0 auto',\n}));\n\nexport const RowContainer = ({ children }) => (\n  <div\n    style={{\n      display: 'grid',\n      width: '100%',\n      gridTemplateColumns: '1fr 1fr',\n      justifyContent: 'center',\n      marginBottom: '16px',\n      gap: '8px',\n    }}\n  >\n    {children}\n  </div>\n);\n\nexport const ErrorContainer = styled.h3`\n  color: red;\n  margin-top: 8px;\n  margin-bottom: 16px;\n`;\n","import React, { useState } from 'react';\nimport { Formik, Field } from 'formik';\nimport { object, string } from 'yup';\nimport { TextField, Button, Box } from '@mui/material';\n\nimport {\n  useAddContactMutation,\n  useFetchContactsQuery,\n} from 'redux/contacts/contactsAPI';\nimport {\n  FormContainer,\n  RowContainer,\n  ErrorContainer,\n} from './ContactForm.styled';\n\nconst numberRegex =\n  /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/;\nconst nameRegex = /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/;\nconst numberMessage = `Phone number must be digits and can contain spaces, dashes, parentheses and can start with +`;\nconst nameMessage = `Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan`;\n\nconst schema = object({\n  name: string().matches(nameRegex, nameMessage).required(),\n  phone: string().matches(numberRegex, numberMessage).required(),\n});\n\nconst CustomTextField = ({ name, label, placeholder }) => (\n  <Field name={name}>\n    {({ field, meta }) => (\n      <Box>\n        <TextField\n          {...field}\n          label={label}\n          fullWidth\n          placeholder={placeholder}\n          error={meta.touched && meta.error}\n          helperText={meta.touched && meta.error ? meta.error : ''}\n        />\n      </Box>\n    )}\n  </Field>\n);\n\nexport function ContactForm() {\n  const { data: contacts = [] } = useFetchContactsQuery();\n  const [addContact] = useAddContactMutation();\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleSubmit = async (values, { resetForm }) => {\n    const { name, phone } = values;\n    if (\n      contacts.some(contact =>\n        contact.name.toLowerCase().includes(name.toLowerCase())\n      )\n    ) {\n      setErrorMessage(\n        `${name} is already in contacts. You can edit data in table below...`\n      );\n      return;\n    }\n    try {\n      setErrorMessage(``);\n      await addContact({ name, phone }).unwrap();\n      resetForm();\n    } catch (err) {\n      console.error('Failed to save the post: ', err);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={{ name: '', phone: '' }}\n      validationSchema={schema}\n      onSubmit={handleSubmit}\n    >\n      <FormContainer>\n        <RowContainer>\n          <CustomTextField\n            name=\"name\"\n            label=\"Name\"\n            placeholder=\"Enter the name\"\n          />\n          <CustomTextField\n            name=\"phone\"\n            label=\"Phone number\"\n            placeholder=\"Enter the phone\"\n          />\n        </RowContainer>\n        {errorMessage && <ErrorContainer>{errorMessage}</ErrorContainer>}\n        <Button variant=\"contained\" type=\"submit\">\n          Add Contact\n        </Button>\n      </FormContainer>\n    </Formik>\n  );\n}\n","export const selectFilter = state => state.filter;\n","import { useSelector } from 'react-redux';\nimport { selectFilter } from 'redux/filter/filterSelectors';\n\nexport const useFilter = () => {\n  const filter = useSelector(selectFilter);\n\n  return {\n    filter,\n  };\n};\n","import styled from '@emotion/styled';\nimport { Box, Button } from '@mui/material';\n\nexport const StyledBox = styled(Box)`\n  gap: 8px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const StyledButton = styled(Button)`\n  margin-left: auto;\n  min-width: 7rem;\n`;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport {\n  useDeleteContactMutation,\n  useUpdateContactMutation,\n} from 'redux/contacts/contactsAPI';\n\nimport { TextField, Button, Typography } from '@mui/material';\n\nimport { StyledBox, StyledButton } from './ContactItem.styled';\n\nexport function ContactItem({ id, phone, name }) {\n  const dispatch = useDispatch();\n  const [isEditMode, setEditing] = useState(false);\n  const [editedName, setEditedName] = useState(name);\n  const [editedNumber, setEditedNumber] = useState(phone);\n  const [deleteContact] = useDeleteContactMutation();\n  const [updateContact] = useUpdateContactMutation();\n  const onDelete = () => {\n    dispatch(deleteContact(id));\n  };\n\n  const handleUpdate = async () => {\n    const updatedContact = {\n      id,\n      name: editedName,\n      phone: editedNumber,\n    };\n    try {\n      await updateContact(updatedContact).unwrap();\n      setEditing(false);\n    } catch (err) {\n      console.error('Failed to save the post: ', err);\n    }\n  };\n\n  return (\n    <li>\n      {isEditMode ? (\n        <>\n          <StyledBox>\n            <TextField\n              type=\"text\"\n              focused\n              value={editedName}\n              variant=\"standard\"\n              onChange={e => setEditedName(e.target.value)}\n            />\n            <TextField\n              type=\"text\"\n              focused\n              value={editedNumber}\n              variant=\"standard\"\n              onChange={e => setEditedNumber(e.target.value)}\n            />\n            <StyledButton\n              onClick={handleUpdate}\n              variant=\"contained\"\n              color=\"success\"\n            >\n              Update\n            </StyledButton>\n            <Button\n              sx={{\n                minWidth: '7rem',\n              }}\n              onClick={() => setEditing(false)}\n              variant=\"contained\"\n              color=\"error\"\n            >\n              Cancel\n            </Button>\n          </StyledBox>\n        </>\n      ) : (\n        <StyledBox>\n          <Typography\n            sx={{\n              fontWeight: 'bold',\n            }}\n          >\n            {`${name}: `}\n          </Typography>\n          <Typography>{phone}</Typography>\n          <StyledButton onClick={() => setEditing(true)} variant=\"contained\">\n            Edit\n          </StyledButton>\n          <Button\n            sx={{\n              minWidth: '7rem',\n            }}\n            onClick={onDelete}\n            variant=\"contained\"\n          >\n            Delete\n          </Button>\n        </StyledBox>\n      )}\n    </li>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding-left: 0;\n  gap: 12px;\n`;\n","import React from 'react';\nimport { useFetchContactsQuery } from 'redux/contacts/contactsAPI';\n\nimport { useFilter } from 'hooks/useFilter';\nimport { ContactItem } from 'components/ContactItem/ContactItem';\nimport { List } from './ContactList.styled';\n\nconst ContactList = () => {\n  const { data: contacts = [] } = useFetchContactsQuery();\n  const { filter } = useFilter();\n  const filteredContacts = React.useMemo(\n    () =>\n      contacts.filter(({ name }) =>\n        name.toLowerCase().includes(filter.toLowerCase())\n      ),\n    [contacts, filter]\n  );\n\n  return (\n    <List>\n      {filteredContacts.map(({ _id: id, phone, name }) => (\n        <ContactItem key={id} id={id} phone={phone} name={name} />\n      ))}\n    </List>\n  );\n};\n\nexport default ContactList;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { TextField } from '@mui/material';\n\nimport { setFilter } from 'redux/filter/filterSlice';\nimport { useFilter } from 'hooks/useFilter';\n\nexport function Filter() {\n  const { filter } = useFilter();\n\n  const dispatch = useDispatch();\n\n  const onChange = e => {\n    dispatch(setFilter(e.target.value));\n  };\n\n  return (\n    <TextField\n      type=\"text\"\n      label=\"Find contacts by name\"\n      name=\"filter\"\n      placeholder=\"Enter your search\"\n      value={filter}\n      onChange={onChange}\n    />\n  );\n}\n","import { Helmet } from 'react-helmet';\nimport { Section } from 'components/Section/Section';\n\nimport { useFetchContactsQuery } from 'redux/contacts/contactsAPI';\n\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport ContactList from 'components/ContactList/ContactList';\nimport { Filter } from 'components/Filter/Filter';\n\nexport default function ContactsPage() {\n  const { isLoading } = useFetchContactsQuery();\n\n  return (\n    <>\n      <Helmet>\n        <title>Your contacts</title>\n      </Helmet>\n      <div>{isLoading && 'Request in progress...'}</div>\n      <Section title=\"Phonebook\">\n        <ContactForm />\n      </Section>\n\n      <Section title=\"Contacts\">\n        <Filter />\n        <ContactList />\n      </Section>\n    </>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const Legend = styled.legend`\n  font-size: 1.3rem;\n  font-weight: bold;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@mui/material/Box';\nimport { Legend } from './Section.styled';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <Box sx={{ padding: 3 }} component=\"fieldset\">\n      <Legend>{title}</Legend>\n      {children}\n    </Box>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n"],"names":["FormContainer","styled","Form","display","alignItems","justifyContent","flexDirection","width","margin","RowContainer","children","style","gridTemplateColumns","marginBottom","gap","ErrorContainer","schema","object","name","string","matches","required","phone","CustomTextField","label","placeholder","field","meta","Box","TextField","fullWidth","error","touched","helperText","ContactForm","useFetchContactsQuery","data","contacts","useAddContactMutation","addContact","useState","errorMessage","setErrorMessage","handleSubmit","values","resetForm","some","contact","toLowerCase","includes","unwrap","console","initialValues","validationSchema","onSubmit","Button","variant","type","selectFilter","state","filter","useFilter","useSelector","StyledBox","StyledButton","ContactItem","id","dispatch","useDispatch","isEditMode","setEditing","editedName","setEditedName","editedNumber","setEditedNumber","useDeleteContactMutation","deleteContact","useUpdateContactMutation","updateContact","handleUpdate","updatedContact","focused","value","onChange","e","target","onClick","color","sx","minWidth","Typography","fontWeight","List","filteredContacts","React","map","_id","Filter","setFilter","ContactsPage","isLoading","Helmet","Section","title","Legend","padding","component"],"sourceRoot":""}